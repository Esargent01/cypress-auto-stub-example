<html>

<head>
  <script>
    function request(url) {
      return new Promise((resolve, reject) => {
        const xhr = new XMLHttpRequest();
        xhr.addEventListener('load', function () {
          resolve(xhr);
        });

        xhr.addEventListener('error', reject);
        xhr.open('GET', url, true);
        xhr.send();
      });
    }

    function xhrClick() {
      request('https://reqres.in/api/users')
        .then(res => {
          document.querySelector('#xhr-result').textContent = res.responseText;
        });
    }

    function fetchClick() {
      fetch('https://reqres.in/api/users/2')
        .then(response => response.json())
        .then(json => {
          document.querySelector('#fetch-result').textContent = JSON.stringify(json);
        });
    }

    function createUserClick() {
      fetch('https://reqres.in/api/users', {
        method: 'POST',
        body: JSON.stringify({
          name: 'Cypress',
          job: 'Tester',
        }),
        headers: {
          'Content-Type': 'application/json',
        },
      })
        .then(response => response.json())
        .then(json => {
          document.querySelector('#post-result').textContent = JSON.stringify(json);
        });
    }

  </script>
</head>

<body>
  <button id="xhr-btn" onclick="xhrClick()">Get Users(XHR)</button>
  <div id="xhr-result"></div>

  <button id="fetch-btn" onclick="fetchClick()">Get Single User(fetch)</button>
  <div id="fetch-result"></div>

  <button id="post-btn" onclick="createUserClick()">Create User(fetch)</button>
  <div id="post-result"></div>
</body>

</html>
